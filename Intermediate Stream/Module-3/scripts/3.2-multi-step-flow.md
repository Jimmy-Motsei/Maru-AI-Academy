# 3.2 Build a multi-step flow (lead → first reply → meeting brief → CRM)

## Instructor Script (3-5 min)

We'll build a robust **lead handling** flow that demonstrates all automation patterns:

### Step 1: Trigger
Web form submission or "New lead email" from your website.

### Step 2: Triage (AI)
Classify the lead with structured labels:
- **Intent**: demo/support/other
- **Urgency**: low/med/high  
- **Fit**: basic/high-fit

### Step 3: Draft Reply (AI)
Use a template with:
- Appropriate tone based on intent
- Word limit constraints
- "No invented facts" rule
- Personalization based on lead data

### Step 4: Approval (Human)
Approver edits/approves via email/WhatsApp before sending.

### Step 5: Action
Send approved reply to lead; schedule meeting link if requested.

### Step 6: Meeting Brief (AI)
From the conversation thread, produce JSON brief:
```json
{
  "summary": "Lead overview",
  "questions": ["What they asked"],
  "risks": ["Potential concerns"],
  "next_steps": ["Follow-up actions"]
}
```

### Step 7: Log
Append to Sheet/DB:
- Timestamp
- Lead name
- Intent, urgency, owner
- Outcome
- Minutes saved

### Step 8: Sync
Create/update CRM (HubSpot) with contact + last activity.

## Edge Cases
- Missing contact details → bounce to approver with questions
- Unclear request → escalate to human review
- **Never auto-send** to leads without proper validation

## Key Takeaways
- Triage drives all downstream routing decisions
- JSON outputs enable tool integration
- Always validate data before customer contact
- Comprehensive logging enables analysis and improvement
